
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Copy tree objects &#8212; PyACP</title>
  
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/ansys-sphinx-theme.css?v=9e79609d" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/ansys-sphinx-theme.css?v=9e79609d" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" type="text/css" href="https://www.nerdfonts.com/assets/css/webfont.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=800b1921" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />


  <!-- Include desired assets -->
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  

  
    <link href="../../_static/css/breadcrumbs.css" rel="stylesheet" />
  
    <script src="../../_static/documentation_options.js?v=17d02985"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user_guide/howto/copy_objects';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://acp.docs.pyansys.com/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <link rel="icon" href="../../_static/ansys-favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Manage input and output files" href="file_management.html" />
    <link rel="prev" title="Print model tree" href="print_model.html" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.4.0.dev0" />
  <meta property="og:site_name" content="PyAnsys" />
  <meta name="physics" content="Structures" />
  <link rel="canonical" href="https://acp.docs.pyansys.com/version/stable/user_guide/howto/copy_objects.html" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="https://docs.pyansys.com/">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/pyansys_logo_transparent_black.png" class="logo__image only-light" alt="PyACP - Home"/>
    <img src="../../_static/pyansys_logo_transparent_white.png" class="logo__image only-dark pst-js-only" alt="PyACP - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">

<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../index.html" title="PyACP home">Home</a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../getting_started.html">
    Getting started
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api/index.html">
    API reference
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../contributing.html">
    Contribute
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav>
</div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item">
<div class="search-bar pst-js-only" id="search-bar">
  <form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="search" class="form-control" name="q" placeholder="Search the docs ..."
      aria-label="Search the docs ..." autocomplete="off" autocorrect="off"
      autocapitalize="off" spellcheck="false" />
    <span class="search-button__kbd-shortcut">
      <kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd>
    </span>
  </form>
  <div id="static-search-results" class="static-search-results" style="display:none;" tabindex="0"></div>
</div></div>
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pyacp" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  
  
    <div id="announcement_msg"></div>
<script>
  fetch("announcement.html")
    .then((response) => {
      if (!response.ok) {
        throw new Error(`HTTP error: ${response.status}`);
      }
      return response.text();
    })
    .then(
      (text) => (document.getElementById("announcement_msg").innerHTML = text),
    )
    .catch((error) => console.error(`Fetch problem: ${error.message}`));
</script>
  


  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">

<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../index.html" title="PyACP home">Home</a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../getting_started.html">
    Getting started
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api/index.html">
    API reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../contributing.html">
    Contribute
  </a>
</li>

  </ul>
</nav>
</div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<div class="search-bar pst-js-only" id="search-bar">
  <form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="search" class="form-control" name="q" placeholder="Search the docs ..."
      aria-label="Search the docs ..." autocomplete="off" autocorrect="off"
      autocapitalize="off" spellcheck="false" />
    <span class="search-button__kbd-shortcut">
      <kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd>
    </span>
  </form>
  <div id="static-search-results" class="static-search-results" style="display:none;" tabindex="0"></div>
</div></div>
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pyacp" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">How-to guides</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="create_input_file.html">Create input file for PyACP</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualize_model.html">Visualize model</a></li>
<li class="toctree-l2"><a class="reference internal" href="view_model_in_acp_gui.html">View model in ACP GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="print_model.html">Print model tree</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Copy tree objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_management.html">Manage input and output files</a></li>
<li class="toctree-l2"><a class="reference internal" href="launch_configuration.html">Change ACP startup</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compatibility.html">Compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security_considerations.html">Security considerations</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">
<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
         
    <li class="breadcrumb-item breadcrumb-home">
      <a href="https://docs.pyansys.com/" class="nav-link">PyAnsys</a>
    </li>
     
    <li class="breadcrumb-item">
      <a
        href="../../index.html"
        class="nav-link"
        aria-label="Home"
      >
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="../index.html" class="nav-link">User guide</a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="index.html" class="nav-link">How-to guides</a>
    </li>
      
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Copy tree objects</span></li>
    
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="copy-tree-objects">
<h1>Copy tree objects<a class="headerlink" href="#copy-tree-objects" title="Link to this heading">#</a></h1>
<p>The <a class="reference internal" href="../../api/_autosummary/ansys.acp.core.recursive_copy.html#ansys.acp.core.recursive_copy" title="ansys.acp.core.recursive_copy"><code class="xref py py-func docutils literal notranslate"><span class="pre">recursive_copy()</span></code></a> function is a powerful tool for copying ACP tree objects. It allows you to:</p>
<ul class="simple">
<li><p>copy objects within the same model or across models</p></li>
<li><p>copy the entire layup, or just a specific branch of the model tree</p></li>
<li><p>control how links between objects are handled</p></li>
</ul>
<p>The following sections explain the parameters of the <a class="reference internal" href="../../api/_autosummary/ansys.acp.core.recursive_copy.html#ansys.acp.core.recursive_copy" title="ansys.acp.core.recursive_copy"><code class="xref py py-func docutils literal notranslate"><span class="pre">recursive_copy()</span></code></a> function by applying them to an example model.</p>
<section id="copy-to-the-same-model">
<h2>Copy to the same model<a class="headerlink" href="#copy-to-the-same-model" title="Link to this heading">#</a></h2>
<p>This section shows how to use <a class="reference internal" href="../../api/_autosummary/ansys.acp.core.recursive_copy.html#ansys.acp.core.recursive_copy" title="ansys.acp.core.recursive_copy"><code class="xref py py-func docutils literal notranslate"><span class="pre">recursive_copy()</span></code></a> to duplicate objects within the same ACP model.</p>
<section id="model-setup">
<h3>Model setup<a class="headerlink" href="#model-setup" title="Link to this heading">#</a></h3>
<p>To get started, launch an ACP instance and load a model:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pathlib</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">tempfile</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">ansys.acp.core</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pyacp</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.acp.core.extras</span><span class="w"> </span><span class="kn">import</span> <span class="n">ExampleKeys</span><span class="p">,</span> <span class="n">get_example_file</span>

<span class="n">acp</span> <span class="o">=</span> <span class="n">pyacp</span><span class="o">.</span><span class="n">launch_acp</span><span class="p">()</span>
<span class="n">tempdir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">()</span>
<span class="n">input_file</span> <span class="o">=</span> <span class="n">get_example_file</span><span class="p">(</span>
    <span class="n">ExampleKeys</span><span class="o">.</span><span class="n">MINIMAL_PLATE_ACPH5</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">tempdir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">acp</span><span class="o">.</span><span class="n">import_model</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>
</pre></div>
</div>
<p>The model structure is as follows:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pyacp</span><span class="o">.</span><span class="n">print_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label_by_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;ACP Model&#39;
├── Materials
│   └── &#39;Structural Steel&#39;
├── Fabrics
│   └── &#39;Fabric.1&#39;
├── Element Sets
│   └── &#39;All_Elements&#39;
├── Edge Sets
│   └── &#39;ns_edge&#39;
├── Rosettes
│   └── &#39;Global Coordinate System&#39;
├── Oriented Selection Sets
│   └── &#39;OrientedSelectionSet.1&#39;
└── Modeling Groups
    └── &#39;ModelingGroup.1&#39;
        └── Modeling Plies
            └── &#39;ModelingPly.1&#39;
                └── Production Plies
                    └── &#39;ProductionPly&#39;
                        └── Analysis Plies
                            └── &#39;P1L1__ModelingPly.1&#39;
</pre></div>
</div>
<p>At the start of each example, the model is deleted and re-loaded to get back to the initial state:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">acp</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">acp</span><span class="o">.</span><span class="n">import_model</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="copy-one-object">
<h3>Copy one object<a class="headerlink" href="#copy-one-object" title="Link to this heading">#</a></h3>
<p>The objects to be copied are passed to <a class="reference internal" href="../../api/_autosummary/ansys.acp.core.recursive_copy.html#ansys.acp.core.recursive_copy" title="ansys.acp.core.recursive_copy"><code class="xref py py-func docutils literal notranslate"><span class="pre">recursive_copy()</span></code></a> in the <code class="docutils literal notranslate"><span class="pre">source_objects</span></code> parameter. For example, the following code copies the fabric <code class="docutils literal notranslate"><span class="pre">Fabric.1</span></code>:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fabric</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fabrics</span><span class="p">[</span><span class="s2">&quot;Fabric.1&quot;</span><span class="p">]</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">pyacp</span><span class="o">.</span><span class="n">recursive_copy</span><span class="p">(</span>
    <span class="n">source_objects</span><span class="o">=</span><span class="p">[</span><span class="n">fabric</span><span class="p">],</span>
    <span class="n">parent_mapping</span><span class="o">=</span><span class="p">{</span><span class="n">model</span><span class="p">:</span> <span class="n">model</span><span class="p">},</span>
    <span class="n">linked_object_handling</span><span class="o">=</span><span class="s2">&quot;keep&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">source</span><span class="p">,</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">res</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Copied &#39;</span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">target</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Copied &#39;Fabric.1&#39; to &#39;Fabric.2&#39;
</pre></div>
</div>
<p>The return value of <a class="reference internal" href="../../api/_autosummary/ansys.acp.core.recursive_copy.html#ansys.acp.core.recursive_copy" title="ansys.acp.core.recursive_copy"><code class="xref py py-func docutils literal notranslate"><span class="pre">recursive_copy()</span></code></a> is a dictionary that maps the pre-existing objects to their newly created copies. In the code above, this is used to print what has been copied.</p>
<p>The model now has the following structure:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pyacp</span><span class="o">.</span><span class="n">print_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label_by_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;ACP Model&#39;
├── Materials
│   └── &#39;Structural Steel&#39;
├── Fabrics
│   ├── &#39;Fabric.1&#39;
│   └── &#39;Fabric.2&#39;
├── Element Sets
│   └── &#39;All_Elements&#39;
├── Edge Sets
│   └── &#39;ns_edge&#39;
├── Rosettes
│   └── &#39;Global Coordinate System&#39;
├── Oriented Selection Sets
│   └── &#39;OrientedSelectionSet.1&#39;
└── Modeling Groups
    └── &#39;ModelingGroup.1&#39;
        └── Modeling Plies
            └── &#39;ModelingPly.1&#39;
                └── Production Plies
                    └── &#39;ProductionPly&#39;
                        └── Analysis Plies
                            └── &#39;P1L1__ModelingPly.1&#39;
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">linked_object_handling=&quot;keep&quot;</span></code> parameter indicates that links from the fabric to other objects in the tree should be preserved. This means that the new fabric will still have the same material assigned:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">fabrics</span><span class="p">[</span><span class="s2">&quot;Fabric.2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Structural Steel
</pre></div>
</div>
</section>
<section id="discard-object-links">
<h3>Discard object links<a class="headerlink" href="#discard-object-links" title="Link to this heading">#</a></h3>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">acp</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">acp</span><span class="o">.</span><span class="n">import_model</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>
</pre></div>
</div>
<p>To instead discard links between the copied objects and other objects in the tree, set the <code class="docutils literal notranslate"><span class="pre">linked_object_handling</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">discard</span></code>. For example, the following code copies the fabric <code class="docutils literal notranslate"><span class="pre">Fabric.1</span></code> and discards its link to the material:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fabric</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fabrics</span><span class="p">[</span><span class="s2">&quot;Fabric.1&quot;</span><span class="p">]</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">pyacp</span><span class="o">.</span><span class="n">recursive_copy</span><span class="p">(</span>
    <span class="n">source_objects</span><span class="o">=</span><span class="p">[</span><span class="n">fabric</span><span class="p">],</span>
    <span class="n">parent_mapping</span><span class="o">=</span><span class="p">{</span><span class="n">model</span><span class="p">:</span> <span class="n">model</span><span class="p">},</span>
    <span class="n">linked_object_handling</span><span class="o">=</span><span class="s2">&quot;discard&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">source</span><span class="p">,</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">res</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Copied &#39;</span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">target</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Copied &#39;Fabric.1&#39; to &#39;Fabric.2&#39;
</pre></div>
</div>
<p>The fabric <code class="docutils literal notranslate"><span class="pre">Fabric.2</span></code> does not have a material assigned:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">fabrics</span><span class="p">[</span><span class="s2">&quot;Fabric.2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">material</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>None
</pre></div>
</div>
</section>
<section id="copy-multiple-objects">
<h3>Copy multiple objects<a class="headerlink" href="#copy-multiple-objects" title="Link to this heading">#</a></h3>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">acp</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">acp</span><span class="o">.</span><span class="n">import_model</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">source_objects</span></code> parameter can include multiple objects. The following example copies the fabric <code class="docutils literal notranslate"><span class="pre">Fabric.1</span></code> and the element set <code class="docutils literal notranslate"><span class="pre">All_Elements</span></code>:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fabric</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fabrics</span><span class="p">[</span><span class="s2">&quot;Fabric.1&quot;</span><span class="p">]</span>
<span class="n">element_set</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">element_sets</span><span class="p">[</span><span class="s2">&quot;All_Elements&quot;</span><span class="p">]</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">pyacp</span><span class="o">.</span><span class="n">recursive_copy</span><span class="p">(</span>
    <span class="n">source_objects</span><span class="o">=</span><span class="p">[</span><span class="n">fabric</span><span class="p">,</span> <span class="n">element_set</span><span class="p">],</span>
    <span class="n">parent_mapping</span><span class="o">=</span><span class="p">{</span><span class="n">model</span><span class="p">:</span> <span class="n">model</span><span class="p">},</span>
    <span class="n">linked_object_handling</span><span class="o">=</span><span class="s2">&quot;keep&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">source</span><span class="p">,</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">res</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Copied &#39;</span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">target</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Copied &#39;All_Elements&#39; to &#39;All_Elements.2&#39;
Copied &#39;Fabric.1&#39; to &#39;Fabric.2&#39;
</pre></div>
</div>
<p>This is the model tree after copying:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pyacp</span><span class="o">.</span><span class="n">print_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label_by_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;ACP Model&#39;
├── Materials
│   └── &#39;Structural Steel&#39;
├── Fabrics
│   ├── &#39;Fabric.1&#39;
│   └── &#39;Fabric.2&#39;
├── Element Sets
│   ├── &#39;All_Elements&#39;
│   └── &#39;All_Elements.2&#39;
├── Edge Sets
│   └── &#39;ns_edge&#39;
├── Rosettes
│   └── &#39;Global Coordinate System&#39;
├── Oriented Selection Sets
│   └── &#39;OrientedSelectionSet.1&#39;
└── Modeling Groups
    └── &#39;ModelingGroup.1&#39;
        └── Modeling Plies
            └── &#39;ModelingPly.1&#39;
                └── Production Plies
                    └── &#39;ProductionPly&#39;
                        └── Analysis Plies
                            └── &#39;P1L1__ModelingPly.1&#39;
</pre></div>
</div>
</section>
<section id="copy-an-object-and-its-children">
<h3>Copy an object and its children<a class="headerlink" href="#copy-an-object-and-its-children" title="Link to this heading">#</a></h3>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">acp</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">acp</span><span class="o">.</span><span class="n">import_model</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>
</pre></div>
</div>
<p>When an object has children in the ACP model tree, these are automatically included in the copy. The following example copies the modeling group <code class="docutils literal notranslate"><span class="pre">ModelingGroup.1</span></code> and its children:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">modeling_group</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">modeling_groups</span><span class="p">[</span><span class="s2">&quot;ModelingGroup.1&quot;</span><span class="p">]</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">pyacp</span><span class="o">.</span><span class="n">recursive_copy</span><span class="p">(</span>
    <span class="n">source_objects</span><span class="o">=</span><span class="p">[</span><span class="n">modeling_group</span><span class="p">],</span>
    <span class="n">parent_mapping</span><span class="o">=</span><span class="p">{</span><span class="n">model</span><span class="p">:</span> <span class="n">model</span><span class="p">},</span>
    <span class="n">linked_object_handling</span><span class="o">=</span><span class="s2">&quot;keep&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">source</span><span class="p">,</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">res</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Copied &#39;</span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">target</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Copied &#39;ModelingGroup.1&#39; to &#39;ModelingGroup.2&#39;
Copied &#39;ModelingPly.1&#39; to &#39;ModelingPly.2&#39;
</pre></div>
</div>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pyacp</span><span class="o">.</span><span class="n">print_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label_by_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;ACP Model&#39;
├── Materials
│   └── &#39;Structural Steel&#39;
├── Fabrics
│   └── &#39;Fabric.1&#39;
├── Element Sets
│   └── &#39;All_Elements&#39;
├── Edge Sets
│   └── &#39;ns_edge&#39;
├── Rosettes
│   └── &#39;Global Coordinate System&#39;
├── Oriented Selection Sets
│   └── &#39;OrientedSelectionSet.1&#39;
└── Modeling Groups
    ├── &#39;ModelingGroup.1&#39;
    │   └── Modeling Plies
    │       └── &#39;ModelingPly.1&#39;
    │           └── Production Plies
    │               └── &#39;ProductionPly&#39;
    │                   └── Analysis Plies
    │                       └── &#39;P1L1__ModelingPly.1&#39;
    └── &#39;ModelingGroup.2&#39;
        └── Modeling Plies
            └── &#39;ModelingPly.2&#39;
</pre></div>
</div>
<p>You may notice that the production and analysis plies have not been copied. This is because these are read-only objects which are generated on update. After a model update, they are present:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="n">pyacp</span><span class="o">.</span><span class="n">print_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label_by_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;ACP Model&#39;
├── Materials
│   └── &#39;Structural Steel&#39;
├── Fabrics
│   └── &#39;Fabric.1&#39;
├── Element Sets
│   └── &#39;All_Elements&#39;
├── Edge Sets
│   └── &#39;ns_edge&#39;
├── Rosettes
│   └── &#39;Global Coordinate System&#39;
├── Oriented Selection Sets
│   └── &#39;OrientedSelectionSet.1&#39;
└── Modeling Groups
    ├── &#39;ModelingGroup.1&#39;
    │   └── Modeling Plies
    │       └── &#39;ModelingPly.1&#39;
    │           └── Production Plies
    │               └── &#39;ProductionPly&#39;
    │                   └── Analysis Plies
    │                       └── &#39;P1L1__ModelingPly.1&#39;
    └── &#39;ModelingGroup.2&#39;
        └── Modeling Plies
            └── &#39;ModelingPly.2&#39;
                └── Production Plies
                    └── &#39;ProductionPly.2&#39;
                        └── Analysis Plies
                            └── &#39;P1L1__ModelingPly.2&#39;
</pre></div>
</div>
</section>
<section id="copy-to-a-different-location">
<h3>Copy to a different location<a class="headerlink" href="#copy-to-a-different-location" title="Link to this heading">#</a></h3>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">acp</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">acp</span><span class="o">.</span><span class="n">import_model</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">parent_mapping</span></code> parameter controls where in the model tree the copied objects are placed. The keys of the dictionary are the original parent objects, and the values are the new parent objects. This means that children of the original parent will be copied to the new parent.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The key and value of the <code class="docutils literal notranslate"><span class="pre">parent_mapping</span></code> dictionary must generally (with some exceptions) be of the same type. For example, a <a class="reference internal" href="../../api/_autosummary/ansys.acp.core.ModelingPly.html#ansys.acp.core.ModelingPly" title="ansys.acp.core.ModelingPly"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelingPly</span></code></a> object always has a <a class="reference internal" href="../../api/_autosummary/ansys.acp.core.ModelingGroup.html#ansys.acp.core.ModelingGroup" title="ansys.acp.core.ModelingGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelingGroup</span></code></a> as its parent. For more details, consult the <a class="reference internal" href="../concepts/feature_tree.html#feature-tree"><span class="std std-ref">Feature tree</span></a> section of the user guide.</p>
</div>
<p>The following example copies a the modeling ply <code class="docutils literal notranslate"><span class="pre">ModelingPly.1</span></code> into its own parent, <code class="docutils literal notranslate"><span class="pre">ModelingGroup.1</span></code>.</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">modeling_group_1</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">modeling_groups</span><span class="p">[</span><span class="s2">&quot;ModelingGroup.1&quot;</span><span class="p">]</span>
<span class="n">modeling_ply</span> <span class="o">=</span> <span class="n">modeling_group_1</span><span class="o">.</span><span class="n">modeling_plies</span><span class="p">[</span><span class="s2">&quot;ModelingPly.1&quot;</span><span class="p">]</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">pyacp</span><span class="o">.</span><span class="n">recursive_copy</span><span class="p">(</span>
    <span class="n">source_objects</span><span class="o">=</span><span class="p">[</span><span class="n">modeling_ply</span><span class="p">],</span>
    <span class="n">parent_mapping</span><span class="o">=</span><span class="p">{</span><span class="n">modeling_group_1</span><span class="p">:</span> <span class="n">modeling_group_1</span><span class="p">},</span>
    <span class="n">linked_object_handling</span><span class="o">=</span><span class="s2">&quot;keep&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">source</span><span class="p">,</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">res</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Copied &#39;</span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">target</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Copied &#39;ModelingPly.1&#39; to &#39;ModelingPly.2&#39;
</pre></div>
</div>
<p>This results in the following model tree:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="n">pyacp</span><span class="o">.</span><span class="n">print_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label_by_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;ACP Model&#39;
├── Materials
│   └── &#39;Structural Steel&#39;
├── Fabrics
│   └── &#39;Fabric.1&#39;
├── Element Sets
│   └── &#39;All_Elements&#39;
├── Edge Sets
│   └── &#39;ns_edge&#39;
├── Rosettes
│   └── &#39;Global Coordinate System&#39;
├── Oriented Selection Sets
│   └── &#39;OrientedSelectionSet.1&#39;
└── Modeling Groups
    └── &#39;ModelingGroup.1&#39;
        └── Modeling Plies
            ├── &#39;ModelingPly.1&#39;
            │   └── Production Plies
            │       └── &#39;ProductionPly&#39;
            │           └── Analysis Plies
            │               └── &#39;P1L1__ModelingPly.1&#39;
            └── &#39;ModelingPly.2&#39;
                └── Production Plies
                    └── &#39;ProductionPly.2&#39;
                        └── Analysis Plies
                            └── &#39;P1L1__ModelingPly.2&#39;
</pre></div>
</div>
<p>By changing the value in the <code class="docutils literal notranslate"><span class="pre">parent_mapping</span></code> dictionary, you can instead copy it to a new modeling group:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">modeling_group_2</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">create_modeling_group</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;New Modeling Group&quot;</span><span class="p">)</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">pyacp</span><span class="o">.</span><span class="n">recursive_copy</span><span class="p">(</span>
    <span class="n">source_objects</span><span class="o">=</span><span class="p">[</span><span class="n">modeling_ply</span><span class="p">],</span>
    <span class="n">parent_mapping</span><span class="o">=</span><span class="p">{</span><span class="n">modeling_group_1</span><span class="p">:</span> <span class="n">modeling_group_2</span><span class="p">},</span>
    <span class="n">linked_object_handling</span><span class="o">=</span><span class="s2">&quot;keep&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">source</span><span class="p">,</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">res</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Copied &#39;</span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">target</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Copied &#39;ModelingPly.1&#39; to &#39;ModelingPly.3&#39;
</pre></div>
</div>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="n">pyacp</span><span class="o">.</span><span class="n">print_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label_by_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;ACP Model&#39;
├── Materials
│   └── &#39;Structural Steel&#39;
├── Fabrics
│   └── &#39;Fabric.1&#39;
├── Element Sets
│   └── &#39;All_Elements&#39;
├── Edge Sets
│   └── &#39;ns_edge&#39;
├── Rosettes
│   └── &#39;Global Coordinate System&#39;
├── Oriented Selection Sets
│   └── &#39;OrientedSelectionSet.1&#39;
└── Modeling Groups
    ├── &#39;ModelingGroup.1&#39;
    │   └── Modeling Plies
    │       ├── &#39;ModelingPly.1&#39;
    │       │   └── Production Plies
    │       │       └── &#39;ProductionPly&#39;
    │       │           └── Analysis Plies
    │       │               └── &#39;P1L1__ModelingPly.1&#39;
    │       └── &#39;ModelingPly.2&#39;
    │           └── Production Plies
    │               └── &#39;ProductionPly.2&#39;
    │                   └── Analysis Plies
    │                       └── &#39;P1L1__ModelingPly.2&#39;
    └── &#39;New Modeling Group&#39;
        └── Modeling Plies
            └── &#39;ModelingPly.3&#39;
                └── Production Plies
                    └── &#39;ProductionPly.3&#39;
                        └── Analysis Plies
                            └── &#39;P1L1__ModelingPly.3&#39;
</pre></div>
</div>
</section>
<section id="copy-linked-objects">
<h3>Copy linked objects<a class="headerlink" href="#copy-linked-objects" title="Link to this heading">#</a></h3>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">acp</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">acp</span><span class="o">.</span><span class="n">import_model</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>
</pre></div>
</div>
<p>Instead of keeping or discarding links to other objects, you can also copy the linked objects. This is done by setting the <code class="docutils literal notranslate"><span class="pre">linked_object_handling</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">copy</span></code>. The following example copies the fabric <code class="docutils literal notranslate"><span class="pre">Fabric.1</span></code> and its linked material <code class="docutils literal notranslate"><span class="pre">Structural</span> <span class="pre">Steel</span></code>:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fabric</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fabrics</span><span class="p">[</span><span class="s2">&quot;Fabric.1&quot;</span><span class="p">]</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">pyacp</span><span class="o">.</span><span class="n">recursive_copy</span><span class="p">(</span>
    <span class="n">source_objects</span><span class="o">=</span><span class="p">[</span><span class="n">fabric</span><span class="p">],</span>
    <span class="n">parent_mapping</span><span class="o">=</span><span class="p">{</span><span class="n">model</span><span class="p">:</span> <span class="n">model</span><span class="p">},</span>
    <span class="n">linked_object_handling</span><span class="o">=</span><span class="s2">&quot;copy&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">source</span><span class="p">,</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">res</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Copied &#39;</span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">target</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Copied &#39;Structural Steel&#39; to &#39;Structural Steel.2&#39;
Copied &#39;Fabric.1&#39; to &#39;Fabric.2&#39;
</pre></div>
</div>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pyacp</span><span class="o">.</span><span class="n">print_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label_by_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;ACP Model&#39;
├── Materials
│   ├── &#39;Structural Steel&#39;
│   └── &#39;Structural Steel.2&#39;
├── Fabrics
│   ├── &#39;Fabric.1&#39;
│   └── &#39;Fabric.2&#39;
├── Element Sets
│   └── &#39;All_Elements&#39;
├── Edge Sets
│   └── &#39;ns_edge&#39;
├── Rosettes
│   └── &#39;Global Coordinate System&#39;
├── Oriented Selection Sets
│   └── &#39;OrientedSelectionSet.1&#39;
└── Modeling Groups
    └── &#39;ModelingGroup.1&#39;
        └── Modeling Plies
            └── &#39;ModelingPly.1&#39;
                └── Production Plies
                    └── &#39;ProductionPly&#39;
                        └── Analysis Plies
                            └── &#39;P1L1__ModelingPly.1&#39;
</pre></div>
</div>
<p>The copied fabric uses the copied material:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">fabrics</span><span class="p">[</span><span class="s2">&quot;Fabric.2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Structural Steel.2
</pre></div>
</div>
</section>
<section id="copy-linked-objects-recursively">
<h3>Copy linked objects recursively<a class="headerlink" href="#copy-linked-objects-recursively" title="Link to this heading">#</a></h3>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">acp</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">acp</span><span class="o">.</span><span class="n">import_model</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>
</pre></div>
</div>
<p>The copy of linked objects is recursive. In the following example, the modeling group <code class="docutils literal notranslate"><span class="pre">ModelingGroup.1</span></code> is used as a source object. Since its child modeling ply <code class="docutils literal notranslate"><span class="pre">ModelingPly.1</span></code> has a linked fabric, this fabric and its linked material are also copied. Similarly, the oriented selection set and its linked element set and rosette are copied:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">modeling_group</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">modeling_groups</span><span class="p">[</span><span class="s2">&quot;ModelingGroup.1&quot;</span><span class="p">]</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">pyacp</span><span class="o">.</span><span class="n">recursive_copy</span><span class="p">(</span>
    <span class="n">source_objects</span><span class="o">=</span><span class="p">[</span><span class="n">modeling_group</span><span class="p">],</span>
    <span class="n">parent_mapping</span><span class="o">=</span><span class="p">{</span><span class="n">model</span><span class="p">:</span> <span class="n">model</span><span class="p">},</span>
    <span class="n">linked_object_handling</span><span class="o">=</span><span class="s2">&quot;copy&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">source</span><span class="p">,</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">res</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Copied &#39;</span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">target</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Copied &#39;Structural Steel&#39; to &#39;Structural Steel.2&#39;
Copied &#39;Global Coordinate System&#39; to &#39;Global Coordinate System.2&#39;
Copied &#39;All_Elements&#39; to &#39;All_Elements.2&#39;
Copied &#39;Fabric.1&#39; to &#39;Fabric.2&#39;
Copied &#39;OrientedSelectionSet.1&#39; to &#39;OrientedSelectionSet.2&#39;
Copied &#39;ModelingGroup.1&#39; to &#39;ModelingGroup.2&#39;
Copied &#39;ModelingPly.1&#39; to &#39;ModelingPly.2&#39;
</pre></div>
</div>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="n">pyacp</span><span class="o">.</span><span class="n">print_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label_by_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;ACP Model&#39;
├── Materials
│   ├── &#39;Structural Steel&#39;
│   └── &#39;Structural Steel.2&#39;
├── Fabrics
│   ├── &#39;Fabric.1&#39;
│   └── &#39;Fabric.2&#39;
├── Element Sets
│   ├── &#39;All_Elements&#39;
│   └── &#39;All_Elements.2&#39;
├── Edge Sets
│   └── &#39;ns_edge&#39;
├── Rosettes
│   ├── &#39;Global Coordinate System&#39;
│   └── &#39;Global Coordinate System.2&#39;
├── Oriented Selection Sets
│   ├── &#39;OrientedSelectionSet.1&#39;
│   └── &#39;OrientedSelectionSet.2&#39;
└── Modeling Groups
    ├── &#39;ModelingGroup.1&#39;
    │   └── Modeling Plies
    │       └── &#39;ModelingPly.1&#39;
    │           └── Production Plies
    │               └── &#39;ProductionPly&#39;
    │                   └── Analysis Plies
    │                       └── &#39;P1L1__ModelingPly.1&#39;
    └── &#39;ModelingGroup.2&#39;
        └── Modeling Plies
            └── &#39;ModelingPly.2&#39;
                └── Production Plies
                    └── &#39;ProductionPly.2&#39;
                        └── Analysis Plies
                            └── &#39;P1L1__ModelingPly.2&#39;
</pre></div>
</div>
</section>
<section id="control-the-copy-of-linked-objects">
<h3>Control the copy of linked objects<a class="headerlink" href="#control-the-copy-of-linked-objects" title="Link to this heading">#</a></h3>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">acp</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">acp</span><span class="o">.</span><span class="n">import_model</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>
</pre></div>
</div>
<p>To avoid copying a specific linked object, you can add it (as both key and value) to the <code class="docutils literal notranslate"><span class="pre">parent_mapping</span></code> dictionary. The following example copies the modeling group <code class="docutils literal notranslate"><span class="pre">ModelingGroup.1</span></code> and its children, but does not copy the material <code class="docutils literal notranslate"><span class="pre">Structural</span> <span class="pre">Steel</span></code> and rosette <code class="docutils literal notranslate"><span class="pre">Global</span> <span class="pre">Coordinate</span> <span class="pre">System</span></code>:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">material</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="s2">&quot;Structural Steel&quot;</span><span class="p">]</span>
<span class="n">modeling_group</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">modeling_groups</span><span class="p">[</span><span class="s2">&quot;ModelingGroup.1&quot;</span><span class="p">]</span>
<span class="n">rosette</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">rosettes</span><span class="p">[</span><span class="s2">&quot;Global Coordinate System&quot;</span><span class="p">]</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">pyacp</span><span class="o">.</span><span class="n">recursive_copy</span><span class="p">(</span>
    <span class="n">source_objects</span><span class="o">=</span><span class="p">[</span><span class="n">modeling_group</span><span class="p">],</span>
    <span class="n">parent_mapping</span><span class="o">=</span><span class="p">{</span><span class="n">model</span><span class="p">:</span> <span class="n">model</span><span class="p">,</span> <span class="n">material</span><span class="p">:</span> <span class="n">material</span><span class="p">,</span> <span class="n">rosette</span><span class="p">:</span> <span class="n">rosette</span><span class="p">},</span>
    <span class="n">linked_object_handling</span><span class="o">=</span><span class="s2">&quot;copy&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">source</span><span class="p">,</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">res</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Copied &#39;</span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">target</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Copied &#39;All_Elements&#39; to &#39;All_Elements.2&#39;
Copied &#39;Fabric.1&#39; to &#39;Fabric.2&#39;
Copied &#39;OrientedSelectionSet.1&#39; to &#39;OrientedSelectionSet.2&#39;
Copied &#39;ModelingGroup.1&#39; to &#39;ModelingGroup.2&#39;
Copied &#39;ModelingPly.1&#39; to &#39;ModelingPly.2&#39;
</pre></div>
</div>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="n">pyacp</span><span class="o">.</span><span class="n">print_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label_by_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;ACP Model&#39;
├── Materials
│   └── &#39;Structural Steel&#39;
├── Fabrics
│   ├── &#39;Fabric.1&#39;
│   └── &#39;Fabric.2&#39;
├── Element Sets
│   ├── &#39;All_Elements&#39;
│   └── &#39;All_Elements.2&#39;
├── Edge Sets
│   └── &#39;ns_edge&#39;
├── Rosettes
│   └── &#39;Global Coordinate System&#39;
├── Oriented Selection Sets
│   ├── &#39;OrientedSelectionSet.1&#39;
│   └── &#39;OrientedSelectionSet.2&#39;
└── Modeling Groups
    ├── &#39;ModelingGroup.1&#39;
    │   └── Modeling Plies
    │       └── &#39;ModelingPly.1&#39;
    │           └── Production Plies
    │               └── &#39;ProductionPly&#39;
    │                   └── Analysis Plies
    │                       └── &#39;P1L1__ModelingPly.1&#39;
    └── &#39;ModelingGroup.2&#39;
        └── Modeling Plies
            └── &#39;ModelingPly.2&#39;
                └── Production Plies
                    └── &#39;ProductionPly.2&#39;
                        └── Analysis Plies
                            └── &#39;P1L1__ModelingPly.2&#39;
</pre></div>
</div>
</section>
</section>
<section id="copy-to-a-different-model">
<h2>Copy to a different model<a class="headerlink" href="#copy-to-a-different-model" title="Link to this heading">#</a></h2>
<p>Copying objects to a different model works exactly the same as within the same model, with one exception: Since the linked objects do not exist on the target model, <code class="docutils literal notranslate"><span class="pre">linked_object_handling=&quot;keep&quot;</span></code> is not allowed. Only <code class="docutils literal notranslate"><span class="pre">linked_object_handling=&quot;discard&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">linked_object_handling=&quot;copy&quot;</span></code> are possible.</p>
<p>Note that the target model must use the same unit system as the source model.</p>
<section id="id1">
<h3>Model setup<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>For the subsequent examples, a second model is created:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">input_file_2</span> <span class="o">=</span> <span class="n">get_example_file</span><span class="p">(</span>
    <span class="n">ExampleKeys</span><span class="o">.</span><span class="n">MINIMAL_PLATE_CDB</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">tempdir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">acp</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">source_model</span> <span class="o">=</span> <span class="n">acp</span><span class="o">.</span><span class="n">import_model</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>
<span class="n">target_model</span> <span class="o">=</span> <span class="n">acp</span><span class="o">.</span><span class="n">import_model</span><span class="p">(</span>
    <span class="n">input_file_2</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;New ACP Model&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;ansys:cdb&quot;</span><span class="p">,</span> <span class="n">unit_system</span><span class="o">=</span><span class="s2">&quot;SI&quot;</span>
<span class="p">)</span>
<span class="n">target_model</span><span class="o">.</span><span class="n">unit_system</span> <span class="o">=</span> <span class="n">source_model</span><span class="o">.</span><span class="n">unit_system</span>

<span class="n">pyacp</span><span class="o">.</span><span class="n">print_model</span><span class="p">(</span><span class="n">target_model</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label_by_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;New ACP Model&#39;
├── Materials
│   ├── &#39;1&#39;
│   ├── &#39;2&#39;
│   ├── &#39;3&#39;
│   ├── &#39;4&#39;
│   ├── &#39;5&#39;
│   └── &#39;6&#39;
├── Element Sets
│   ├── &#39;All_Elements&#39;
│   ├── &#39;BOTTOM_LEFT&#39;
│   ├── &#39;FRONT&#39;
│   ├── &#39;MIDDLE&#39;
│   ├── &#39;TAIL&#39;
│   ├── &#39;TOP_RIGHT&#39;
│   └── &#39;_CM_EXT_SEC_0&#39;
├── Edge Sets
│   ├── &#39;ED_FRONT&#39;
│   └── &#39;ED_TAIL&#39;
└── Rosettes
    ├── &#39;12&#39;
    └── &#39;13&#39;
</pre></div>
</div>
</section>
<section id="copy-the-entire-layup">
<h3>Copy the entire layup<a class="headerlink" href="#copy-the-entire-layup" title="Link to this heading">#</a></h3>
<p>The following example copies all tree objects from the source model to the target model. All children of the <code class="docutils literal notranslate"><span class="pre">source_model</span></code> are copied, but the model itself is not copied since it is present in the <code class="docutils literal notranslate"><span class="pre">parent_mapping</span></code> dictionary:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">pyacp</span><span class="o">.</span><span class="n">recursive_copy</span><span class="p">(</span>
    <span class="n">source_objects</span><span class="o">=</span><span class="p">[</span><span class="n">source_model</span><span class="p">],</span>
    <span class="n">parent_mapping</span><span class="o">=</span><span class="p">{</span><span class="n">source_model</span><span class="p">:</span> <span class="n">target_model</span><span class="p">},</span>
    <span class="n">linked_object_handling</span><span class="o">=</span><span class="s2">&quot;copy&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">source</span><span class="p">,</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">res</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Copied &#39;</span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">target</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Copied &#39;Structural Steel&#39; to &#39;Structural Steel&#39;
Copied &#39;Global Coordinate System&#39; to &#39;Global Coordinate System&#39;
Copied &#39;All_Elements&#39; to &#39;All_Elements.2&#39;
Copied &#39;Fabric.1&#39; to &#39;Fabric.1&#39;
Copied &#39;OrientedSelectionSet.1&#39; to &#39;OrientedSelectionSet.1&#39;
Copied &#39;ModelingGroup.1&#39; to &#39;ModelingGroup.1&#39;
Copied &#39;ModelingPly.1&#39; to &#39;ModelingPly.1&#39;
Copied &#39;ns_edge&#39; to &#39;ns_edge&#39;
</pre></div>
</div>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">target_model</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="n">pyacp</span><span class="o">.</span><span class="n">print_model</span><span class="p">(</span><span class="n">target_model</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label_by_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;New ACP Model&#39;
├── Materials
│   ├── &#39;1&#39;
│   ├── &#39;2&#39;
│   ├── &#39;3&#39;
│   ├── &#39;4&#39;
│   ├── &#39;5&#39;
│   ├── &#39;6&#39;
│   └── &#39;Structural Steel&#39;
├── Fabrics
│   └── &#39;Fabric.1&#39;
├── Element Sets
│   ├── &#39;All_Elements&#39;
│   ├── &#39;BOTTOM_LEFT&#39;
│   ├── &#39;FRONT&#39;
│   ├── &#39;MIDDLE&#39;
│   ├── &#39;TAIL&#39;
│   ├── &#39;TOP_RIGHT&#39;
│   ├── &#39;_CM_EXT_SEC_0&#39;
│   └── &#39;All_Elements.2&#39;
├── Edge Sets
│   ├── &#39;ED_FRONT&#39;
│   ├── &#39;ED_TAIL&#39;
│   └── &#39;ns_edge&#39;
├── Rosettes
│   ├── &#39;12&#39;
│   ├── &#39;13&#39;
│   └── &#39;Global Coordinate System&#39;
├── Oriented Selection Sets
│   └── &#39;OrientedSelectionSet.1&#39;
└── Modeling Groups
    └── &#39;ModelingGroup.1&#39;
        └── Modeling Plies
            └── &#39;ModelingPly.1&#39;
                └── Production Plies
                    └── &#39;ProductionPly&#39;
                        └── Analysis Plies
                            └── &#39;P1L1__ModelingPly.1&#39;
</pre></div>
</div>
</section>
<section id="id2">
<h3>Control the copy of linked objects<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">acp</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">source_model</span> <span class="o">=</span> <span class="n">acp</span><span class="o">.</span><span class="n">import_model</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>
<span class="n">target_model</span> <span class="o">=</span> <span class="n">acp</span><span class="o">.</span><span class="n">import_model</span><span class="p">(</span>
    <span class="n">input_file_2</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;New ACP Model&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;ansys:cdb&quot;</span><span class="p">,</span> <span class="n">unit_system</span><span class="o">=</span><span class="s2">&quot;SI&quot;</span>
<span class="p">)</span>
<span class="n">target_model</span><span class="o">.</span><span class="n">unit_system</span> <span class="o">=</span> <span class="n">source_model</span><span class="o">.</span><span class="n">unit_system</span>
</pre></div>
</div>
<p>As with the copy within the same model, the <code class="docutils literal notranslate"><span class="pre">parent_mapping</span></code> dictionary can be used to limit the copy of linked objects. The following example copies the entire layup, except for the material <code class="docutils literal notranslate"><span class="pre">Structural</span> <span class="pre">Steel</span></code>, element set <code class="docutils literal notranslate"><span class="pre">All_Elements</span></code>, edge set <code class="docutils literal notranslate"><span class="pre">ns_edge</span></code>, and rosette <code class="docutils literal notranslate"><span class="pre">Global</span> <span class="pre">Coordinate</span> <span class="pre">System</span></code>:</p>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">pyacp</span><span class="o">.</span><span class="n">recursive_copy</span><span class="p">(</span>
    <span class="n">source_objects</span><span class="o">=</span><span class="p">[</span><span class="n">source_model</span><span class="p">],</span>
    <span class="n">parent_mapping</span><span class="o">=</span><span class="p">{</span>
        <span class="n">source_model</span><span class="p">:</span> <span class="n">target_model</span><span class="p">,</span>
        <span class="n">source_model</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="s2">&quot;Structural Steel&quot;</span><span class="p">]:</span> <span class="n">target_model</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">],</span>
        <span class="n">source_model</span><span class="o">.</span><span class="n">element_sets</span><span class="p">[</span><span class="s2">&quot;All_Elements&quot;</span><span class="p">]:</span> <span class="n">target_model</span><span class="o">.</span><span class="n">element_sets</span><span class="p">[</span>
            <span class="s2">&quot;All_Elements&quot;</span>
        <span class="p">],</span>
        <span class="n">source_model</span><span class="o">.</span><span class="n">edge_sets</span><span class="p">[</span><span class="s2">&quot;ns_edge&quot;</span><span class="p">]:</span> <span class="n">target_model</span><span class="o">.</span><span class="n">edge_sets</span><span class="p">[</span><span class="s2">&quot;ED_TAIL&quot;</span><span class="p">],</span>
        <span class="n">source_model</span><span class="o">.</span><span class="n">rosettes</span><span class="p">[</span><span class="s2">&quot;Global Coordinate System&quot;</span><span class="p">]:</span> <span class="n">target_model</span><span class="o">.</span><span class="n">rosettes</span><span class="p">[</span><span class="s2">&quot;12&quot;</span><span class="p">],</span>
    <span class="p">},</span>
    <span class="n">linked_object_handling</span><span class="o">=</span><span class="s2">&quot;copy&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">source</span><span class="p">,</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">res</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Copied &#39;</span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">target</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Copied &#39;Fabric.1&#39; to &#39;Fabric.1&#39;
Copied &#39;OrientedSelectionSet.1&#39; to &#39;OrientedSelectionSet.1&#39;
Copied &#39;ModelingGroup.1&#39; to &#39;ModelingGroup.1&#39;
Copied &#39;ModelingPly.1&#39; to &#39;ModelingPly.1&#39;
</pre></div>
</div>
<p><strong>Code:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">target_model</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="n">pyacp</span><span class="o">.</span><span class="n">print_model</span><span class="p">(</span><span class="n">target_model</span><span class="p">,</span> <span class="n">show_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label_by_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;New ACP Model&#39;
├── Materials
│   ├── &#39;1&#39;
│   ├── &#39;2&#39;
│   ├── &#39;3&#39;
│   ├── &#39;4&#39;
│   ├── &#39;5&#39;
│   └── &#39;6&#39;
├── Fabrics
│   └── &#39;Fabric.1&#39;
├── Element Sets
│   ├── &#39;All_Elements&#39;
│   ├── &#39;BOTTOM_LEFT&#39;
│   ├── &#39;FRONT&#39;
│   ├── &#39;MIDDLE&#39;
│   ├── &#39;TAIL&#39;
│   ├── &#39;TOP_RIGHT&#39;
│   └── &#39;_CM_EXT_SEC_0&#39;
├── Edge Sets
│   ├── &#39;ED_FRONT&#39;
│   └── &#39;ED_TAIL&#39;
├── Rosettes
│   ├── &#39;12&#39;
│   └── &#39;13&#39;
├── Oriented Selection Sets
│   └── &#39;OrientedSelectionSet.1&#39;
└── Modeling Groups
    └── &#39;ModelingGroup.1&#39;
        └── Modeling Plies
            └── &#39;ModelingPly.1&#39;
                └── Production Plies
                    └── &#39;ProductionPly&#39;
                        └── Analysis Plies
                            └── &#39;P1L1__ModelingPly.1&#39;
</pre></div>
</div>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="print_model.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Print model tree</p>
      </div>
    </a>
    <a class="right-next"
       href="file_management.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Manage input and output files</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#copy-to-the-same-model">Copy to the same model</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#model-setup">Model setup</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#copy-one-object">Copy one object</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#discard-object-links">Discard object links</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#copy-multiple-objects">Copy multiple objects</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#copy-an-object-and-its-children">Copy an object and its children</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#copy-to-a-different-location">Copy to a different location</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#copy-linked-objects">Copy linked objects</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#copy-linked-objects-recursively">Copy linked objects recursively</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#control-the-copy-of-linked-objects">Control the copy of linked objects</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#copy-to-a-different-model">Copy to a different model</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Model setup</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#copy-the-entire-layup">Copy the entire layup</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Control the copy of linked objects</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
<!-- If there is no fix edit button function, use the PyData edit-this-button-->
</div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <ul class="this-page-menu">
      <li><a href="../../_sources/user_guide/howto/copy_objects.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>


  <!-- Include desired assets -->
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.7/require.min.js"></script>

<script>
// Passing the search options to the search.js file
const SEARCH_OPTIONS = JSON.parse('{"keys": ["title", "text", "objectID"], "limit": 10, "threshold": 0.2}');
const SEARCH_FILE = "../../_static/search.json";
const ADVANCE_SEARCH_PATH = "../../search.html";
const EXTRA_SOURCES = JSON.parse('""');
</script>


<script src="../../_static/js/search.js"></script>

  
  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright (c) 2026 ANSYS, Inc. All rights reserved.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the
  <a href="https://sphinxdocs.ansys.com/version/stable/index.html"
    >Ansys Sphinx Theme</a
  >
  1.6.4. <br />Last updated on
  <span id="ast_build_date"></span>
</p>
<script>
  var options = { day: "numeric", month: "long", year: "numeric" };
  var ast_lastModifiedDate = new Date(document.lastModified);
  var ast_build_date = ast_lastModifiedDate.toLocaleDateString("en-US", options);
  document.getElementById("ast_build_date").innerHTML = ast_build_date;
</script></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>